(function(e){function t(t){for(var n,r,u=t[0],s=t[1],l=t[2],d=0,b=[];d<u.length;d++)r=u[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&b.push(a[r][0]),a[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);i&&i(t);while(b.length)b.shift()();return o.push.apply(o,l||[]),c()}function c(){for(var e,t=0;t<o.length;t++){for(var c=o[t],n=!0,u=1;u<c.length;u++){var s=c[u];0!==a[s]&&(n=!1)}n&&(o.splice(t--,1),e=r(r.s=c[0]))}return e}var n={},a={app:0},o=[];function r(t){if(n[t])return n[t].exports;var c=n[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,r),c.l=!0,c.exports}r.m=e,r.c=n,r.d=function(e,t,c){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(r.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(c,n,function(t){return e[t]}.bind(null,n));return c},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var i=s;o.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("cd49")},"40b0":function(e,t,c){},5159:function(e,t,c){"use strict";c("40b0")},7647:function(e,t,c){"use strict";c("d7d8")},"942d":function(e,t,c){},"9cdc":function(e,t,c){"use strict";c("942d")},cd49:function(e,t,c){"use strict";c.r(t);c("e260"),c("e6cf"),c("cca6"),c("a79d");var n=c("830f"),a=(c("99af"),c("fb6a"),c("5c40")),o=c("9ff4"),r={id:"app"},u={key:0,class:"pane"},s={class:"inputReplacement"},l={key:1,"dominant-baseline":"middle","text-anchor":"middle"},i={class:"notation-text",style:{color:"white"}},d={key:0,style:{color:"white"},class:"hint"},b={class:"actions"},v=Object(a["i"])("Start New Game"),f={key:0,class:"popup",ref:"popup"},O=Object(a["j"])("h3",{class:"title"},"Are you sure you want to start a new game?",-1),j={class:"actions"},p=Object(a["i"])("Start new game"),k=Object(a["i"])("Take me back"),m=Object(a["i"])("Hint"),h=Object(a["i"])("Fill In Candidates"),g={key:1,class:"pane"},w={class:"actions"},y=Object(a["i"])("Start New Game");function M(e,t){var c=Object(a["y"])("BaseButton");return Object(a["u"])(),Object(a["e"])("div",r,[e.loading?Object(a["f"])("",!0):(Object(a["u"])(),Object(a["e"])("div",u,[Object(a["j"])("table",null,[Object(a["j"])("tbody",null,[(Object(a["u"])(),Object(a["e"])(a["b"],null,Object(a["w"])(9,(function(t){return Object(a["j"])("tr",{key:t},[(Object(a["u"])(),Object(a["e"])(a["b"],null,Object(a["w"])(9,(function(c){return Object(a["j"])("td",{key:"r".concat(t,"c").concat(c,"-td"),id:"r".concat(t,"c").concat(c,"-td-id"),class:[{"border-right":c%3==0,"border-bottom":t%3==0,"border-left":0==c,"border-top":0==t,invalid:!e.sudokuObj["r".concat(t,"c").concat(c)].valid,"highlight-number":e.highlightNumbers==e.sudokuObj["r".concat(t,"c").concat(c)].number}],onClick:function(n){return e.handleClick({row:t,col:c})},style:{"background-color":e.selfFocus.row!=t&&e.selfFocus.col!=c||e.checkFocus["r".concat(t,"c").concat(c)]?e.checkFocus["r".concat(t,"c").concat(c)]:"".concat(e.color.slice(0,7),"44")}},[(Object(a["u"])(),Object(a["e"])("svg",s,[Object(a["j"])("text",{class:[{bold:e.sudokuObj["r".concat(t,"c").concat(c)].given,invalid:!e.sudokuObj["r".concat(t,"c").concat(c)].valid},"svgText"],x:"50%",y:"60%","dominant-baseline":"middle","text-anchor":"middle",ref:function(n){e.inputs["r".concat(t,"c").concat(c)]=n}},Object(o["G"])("."==e.sudokuObj["r".concat(t,"c").concat(c)].number?"":e.sudokuObj["r".concat(t,"c").concat(c)].number),3),(Object(a["u"])(!0),Object(a["e"])(a["b"],null,Object(a["w"])(e.sudokuObj["r".concat(t,"c").concat(c)].pencilMarks,(function(n,r){return Object(a["u"])(),Object(a["e"])("g",{key:r},[e.sudokuObj["r".concat(t,"c").concat(c)].pencilMarks[r]&&"."==e.sudokuObj["r".concat(t,"c").concat(c)].number?(Object(a["u"])(),Object(a["e"])("circle",{key:0,class:[{"circle-number":e.highlightNumbers==r+1}],cy:9+22*Math.floor(r/3),cx:8.5+r%3*22,r:"8"},null,10,["cy","cx"])):Object(a["f"])("",!0),"."==e.sudokuObj["r".concat(t,"c").concat(c)].number?(Object(a["u"])(),Object(a["e"])("text",l,[e.sudokuObj["r".concat(t,"c").concat(c)].pencilMarks[r]?(Object(a["u"])(),Object(a["e"])("tspan",{key:0,style:{"font-size":"14px"},y:10+22*Math.floor(r/3),x:8+r%3*22},Object(o["G"])(r+1),9,["y","x"])):Object(a["f"])("",!0)])):Object(a["f"])("",!0)])})),128))]))],14,["id","onClick"])})),64))])})),64))])]),Object(a["j"])("span",i,Object(o["G"])(e.notating?"Notation Mode On":"Notation Mode Off"),1),e.hint?(Object(a["u"])(),Object(a["e"])("div",d,Object(o["G"])(e.hint),1)):Object(a["f"])("",!0),Object(a["j"])("div",b,[Object(a["j"])(c,{onClick:t[1]||(t[1]=function(t){return e.newGame()}),class:"button"},{default:Object(a["E"])((function(){return[v]})),_:1}),e.checkNew?(Object(a["u"])(),Object(a["e"])("div",f,[O,Object(a["j"])("div",j,[Object(a["j"])(c,{onMouseup:t[2]||(t[2]=function(t){return e.newGame(!0)}),class:"yes"},{default:Object(a["E"])((function(){return[p]})),_:1}),Object(a["j"])(c,{onClick:t[3]||(t[3]=function(t){return e.checkNew=!1}),class:"no"},{default:Object(a["E"])((function(){return[k]})),_:1})])],512)):Object(a["f"])("",!0),Object(a["j"])(c,{onMouseup:t[4]||(t[4]=function(t){return e.requestHint()})},{default:Object(a["E"])((function(){return[m]})),_:1}),Object(a["j"])(c,{onMouseup:t[5]||(t[5]=function(t){return e.firstPassCandidateCalculator()}),class:"button"},{default:Object(a["E"])((function(){return[h]})),_:1})])])),e.loading?(Object(a["u"])(),Object(a["e"])("div",g,[Object(a["j"])("div",w,[Object(a["j"])(c,{onClick:t[6]||(t[6]=function(t){return e.newGame()}),class:"button"},{default:Object(a["E"])((function(){return[y]})),_:1})])])):Object(a["f"])("",!0)])}c("caad");var N=Object(a["F"])("data-v-0203f82a"),U=N((function(e,t){return Object(a["u"])(),Object(a["e"])("button",{onClick:t[1]||(t[1]=function(t){return e.$emit("click",t)}),onMouseup:t[2]||(t[2]=function(t){return e.$emit("mousup",t)})},[Object(a["x"])(e.$slots,"default")],32)}));c("5159");const S={};S.render=U,S.__scopeId="data-v-0203f82a";var E,P=S,C=c("a1e9"),_=(c("4de4"),c("4160"),c("a630"),c("d81d"),c("a9e3"),c("07ac"),c("2532"),c("3ca3"),c("159b"),c("2909")),x=c("d4ec"),A=function e(t,c,n){var o=this;Object(x["a"])(this,e),this.makeRows=Object(a["d"])((function(){for(var e={},t=1;t<=9;t++){e["r".concat(t)]={};for(var c=1;c<=9;c++)e["r".concat(t)]["r".concat(t,"c").concat(c)]=o.sudokuObj.value["r".concat(t,"c").concat(c)]}return e})),this.makeCols=Object(a["d"])((function(){for(var e={},t=1;t<=9;t++){e["c".concat(t)]={};for(var c=1;c<=9;c++)e["c".concat(t)]["r".concat(c,"c").concat(t)]=o.sudokuObj.value["r".concat(c,"c").concat(t)]}return e})),this.getSquare=function(e){var t=[1,2,3],c=[4,5,6],n=[7,8,9],a=[1,2,3];return e.address.r>=1&&e.address.r<=3&&(a=t),e.address.r>=4&&e.address.r<=6&&(a=c),e.address.r>=7&&e.address.r<=9&&(a=n),"s".concat(a[Math.floor((e.address.c-1)/3)])},this.makeSquares=Object(a["d"])((function(){for(var e={s1:{},s2:{},s3:{},s4:{},s5:{},s6:{},s7:{},s8:{},s9:{}},t=1;t<=9;t++)for(var c=1;c<=9;c++)e[o.getSquare(o.sudokuObj.value["r".concat(t,"c").concat(c)])]["r".concat(t,"c").concat(c)]=o.sudokuObj.value["r".concat(t,"c").concat(c)];return e})),this.getPeers=function(e){var t,c,n;return t=o.makeRows.value["r".concat(e.address.r)],c=o.makeCols.value["c".concat(e.address.c)],n=o.makeSquares.value[o.getSquare(e)],{row:t,col:c,square:n}},this.validateSquare=function(e){if(e.given)return e;for(var t=o.getPeers(e),c=t.row,n=t.col,a=t.square,r=[].concat(Object(_["a"])(Object.values(c)),Object(_["a"])(Object.values(n)),Object(_["a"])(Object.values(a))),u=!0,s=0;s<r.length;s++)if(r[s].address!=e.address&&r[s].number==e.number&&(u=!1,e.valid=!1),!u)break;return u&&(e.valid=!0),e},this.firstPassCandidateCalculator=function(){var e=o.makeRows.value,t=o.makeCols.value,c=o.makeSquares.value;for(var n in o.sudokuObj.value)Object.prototype.hasOwnProperty.call(o.sudokuObj.value,n)&&(o.sudokuObj.value[n].candidates=[],o.sudokuObj.value[n].pencilMarks=Array.from({length:9},(function(){return!1})));for(var a=0;a<3;a++){var r=void 0;switch(a){case 0:r=e;break;case 1:r=t;break;case 2:r=c;break}var u=function(e){var t=r[e],c=Object.values(r[e]).map((function(e){return Number(e.number)})).filter((function(e){return!isNaN(e)})),n=Array.from(Array(9),(function(e,t){return t+1}));n=n.filter((function(e){return!c.includes(e)}));var o=function(e){if("."==t[e].number){var c=0==a?Array.from(Array(9),(function(e,t){return t+1})):t[e].candidates;t[e].candidates=[],n.filter((function(e){return c.includes(e)})).forEach((function(c){t[e].candidates.push(c)}))}};for(var u in t)o(u)};for(var s in r)u(s)}var l=function(e){if(Object.prototype.hasOwnProperty.call(o.sudokuObj.value,e)){o.sudokuObj.value[e].candidates.forEach((function(t){o.sudokuObj.value[e].pencilMarks[t-1]=!0}));var t={address:o.sudokuObj.value[e].address,pencilMarks:o.sudokuObj.value[e].pencilMarks,id:o.userId.value};o.socket.send(JSON.stringify({pencilMarkUpdate:t}))}};for(var i in o.sudokuObj.value)l(i);return o.sudokuObj.value},this.sudokuObj=t,this.userId=c,this.socket=n},G=A,L=c("5530"),J=c("bee2"),q=function(){function e(t,c,n,a){var o=this;Object(x["a"])(this,e),this.updatePeerCandidates=function(e){var t=o.validation.getPeers(e),c=t.row,n=t.col,a=t.square,r=[].concat(Object(_["a"])(Object.values(c)),Object(_["a"])(Object.values(n)),Object(_["a"])(Object.values(a))),u=[];return r.forEach((function(t){if("."==t.number&&t.pencilMarks[Number(e.number)-1]){var c=Object(_["a"])(o.sudokuObj.value["r".concat(t.address.r,"c").concat(t.address.c)].pencilMarks);t.pencilMarks[Number(e.number)-1]=!1;var n={address:t.address,pencilMarks:c,id:o.validation.userId.value};u.push(n)}})),u},this.sudokuObj=t,this.users=c,this.socket=n,this.validation=a}return Object(J["a"])(e,[{key:"updateNumber",value:function(e){var t=this,c=e.numberUpdate,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=c.address,r=c.number,u=c.id,s=c.associatedPencilMarkUpdates,l=Object(L["a"])({},this.sudokuObj.value["r".concat(o.r,"c").concat(o.c)]);if(this.sudokuObj.value["r".concat(o.r,"c").concat(o.c)].number=r,this.sudokuObj.value["r".concat(o.r,"c").concat(o.c)]=this.validation.validateSquare(this.sudokuObj.value["r".concat(o.r,"c").concat(o.c)]),n){var i;null===(i=s)||void 0===i||i.forEach((function(e){t.updatePencilMarks({pencilMarkUpdate:e},!0)}))}else{var d;s=null!==(d=s)&&void 0!==d?d:this.updatePeerCandidates(this.sudokuObj.value["r".concat(o.r,"c").concat(o.c)]);var b=Object(L["a"])({},c);b.associatedPencilMarkUpdates=s,b.number=l.number,this.users.value[u].moves.push({numberUpdate:b}),a||this.socket.send(JSON.stringify({numberUpdate:c}))}}},{key:"updatePencilMarks",value:function(e){var t=e.pencilMarkUpdate,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.address,o=t.pencilMark,r=t.pencilMarks,u=t.id,s=Object(_["a"])(this.sudokuObj.value["r".concat(a.r,"c").concat(a.c)].pencilMarks);if("delete"==o||r?this.sudokuObj.value["r".concat(a.r,"c").concat(a.c)].pencilMarks=r||[!1,!1,!1,!1,!1,!1,!1,!1,!1]:this.sudokuObj.value["r".concat(a.r,"c").concat(a.c)].pencilMarks[Number(o)-1]=!this.sudokuObj.value["r".concat(a.r,"c").concat(a.c)].pencilMarks[Number(o)-1],!c){var l=Object(L["a"])({},t);l.pencilMarks=s,this.users.value[u].moves.push({pencilMarkUpdate:l}),n||this.socket.send(JSON.stringify({pencilMarkUpdate:t}))}}},{key:"undo",value:function(e){if(this.users.value[e].moves.length){var t=this.users.value[e].moves.pop();t.numberUpdate?this.updateNumber({numberUpdate:t.numberUpdate},!0):t.pencilMarkUpdate&&(console.log("sending"),this.updatePencilMarks({pencilMarkUpdate:t.pencilMarkUpdate},!0))}}}]),e}(),R=q;console.log(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_WS_URL);var F=null!==(E=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_WS_URL)&&void 0!==E?E:"ws://tealog.xyz:8010";console.log(F);var z=new WebSocket(F),B={setup:function(){Object(a["q"])((function(){z.close(1e3,"logging off")})),z.onopen=function(){console.log("connection established")};var e=Object(C["i"])(),t=Object(C["i"])(),c=Object(C["i"])(),n=Object(C["i"])(),o=Object(C["i"])(!1),r=Object(C["i"])(!1),u=Object(C["i"])(!0),s=new G(t,n,z),l=new R(t,c,z,s),i=Object(C["i"])(!1);z.onmessage=function(a){var o=a.data,r=JSON.parse(o),s=r.color,d=r.sudokuObj,b=r.id,v=r.users,f=r.focusUpdate,O=r.numberUpdate,j=r.pencilMarkUpdate,p=r.undo,k=r.hint;k&&(console.log(k),i.value=k);var m=d||{},h=m.puzzle;if(d&&(t.value=h,u.value=!1),v&&(c.value=v),s&&(e.value=s,document.documentElement.style.setProperty("--color","".concat(s))),b&&(n.value=b),f)try{var g=f.id,w=f.focus;c.value[g].focus=w}catch(y){console.log(JSON.parse(o)),console.log(y),console.log(Object(C["n"])(c.value)),console.log(Object(C["n"])(n.value))}O&&l.updateNumber({numberUpdate:O},!1,!0),j&&l.updatePencilMarks({pencilMarkUpdate:j},!1,!0),p&&l.undo(p)};var d=Object(a["d"])((function(){var e={};for(var t in c.value)if(Object.prototype.hasOwnProperty.call(c.value,t)){var n=c.value[t];e["r".concat(n.focus.row,"c").concat(n.focus.col)]=n.color}return e})),b=Object(a["d"])((function(){var e=c.value[n.value],a=null;return null!=e.focus.row&&"."!=t.value["r".concat(e.focus.row,"c").concat(e.focus.col)].number&&(a=t.value["r".concat(e.focus.row,"c").concat(e.focus.col)].number),a})),v=Object(a["d"])((function(){return c.value[n.value].focus})),f=Object(C["i"])({});Object(a["r"])((function(){f.value={}}));var O=function(e,t,a,o){e+=a,t+=o,e>9||t>9||e<1||t<1||(f.value["r".concat(e,"c").concat(t)].focus(),c.value[n.value].focus={row:e,col:t},z.send(JSON.stringify({focusUpdate:{id:n.value,focus:{row:e,col:t}}})))},j=function(e){var a=e.key,r=e.event,u=["1","2","3","4","5","6","7","8","9"],s=["ArrowDown","ArrowRight","ArrowLeft","ArrowUp"],i=c.value[n.value].focus,d=i.row,b=i.col;if(null==d||null==b)return d=5,b=5,c.value[n.value].focus={row:d,col:b},void z.send(JSON.stringify({focusUpdate:{id:n.value,focus:{row:d,col:b}}}));if(!t.value["r".concat(d,"c").concat(b)].given&&u.includes(a))if(r.preventDefault(),o.value){var v=t.value["r".concat(d,"c").concat(b)].address,f={address:v,pencilMark:a,id:n.value};l.updatePencilMarks({pencilMarkUpdate:f})}else{var j=t.value["r".concat(d,"c").concat(b)].address,p={address:j,number:a,id:n.value};l.updateNumber({numberUpdate:p}),l.updatePeerCandidates(t.value["r".concat(d,"c").concat(b)])}else if("Backspace"==a)if(r.preventDefault(),o.value){var k=t.value["r".concat(d,"c").concat(b)].address,m={address:k,pencilMark:"delete",id:n.value};l.updatePencilMarks({pencilMarkUpdate:m})}else{var h=t.value["r".concat(d,"c").concat(b)].address,g={address:h,number:".",id:n.value};l.updateNumber({numberUpdate:g})}else if(s.includes(a))switch(r.preventDefault(),a){case"ArrowRight":O(d,b,0,1);break;case"ArrowLeft":O(d,b,0,-1);break;case"ArrowDown":O(d,b,1,0);break;case"ArrowUp":O(d,b,-1,0);break}else"Shift"==a?o.value=!o.value:"z"==a.toLowerCase()&&r.metaKey&&(l.undo(n.value),z.send(JSON.stringify({undo:n.value})))};document.body.addEventListener("keydown",(function(){j({key:event.key,event:event})}));var p=function(e){var t=e.row,a=e.col;c.value[n.value].focus={row:t,col:a},z.send(JSON.stringify({focusUpdate:{id:n.value,focus:{row:t,col:a}}}))},k=Object(C["i"])(null),m=Object(C["i"])(!1),h=function e(t){m.value&&t.target!=k.value&&t.target.parentElement!=k.value&&t.target.parentElement.parentElement!=k.value&&(m.value=!1,document.body.removeEventListener("mousedown",e))},g=function(e){console.log("triggered"),e?(z.send(JSON.stringify({newGame:!0})),m.value=!1,document.body.removeEventListener("mousedown",h)):(document.body.addEventListener("mousedown",h),m.value=!0)},w=s.firstPassCandidateCalculator,y=function(){z.send(JSON.stringify({hint:!0}))};return{popup:k,checkNew:m,selfFocus:v,sudokuObj:t,newGame:g,handleInput:j,handleClick:p,inputs:f,color:e,id:n,checkFocus:d,users:c,notating:o,highlightNumbers:b,firstPassCandidateCalculator:w,candidates:r,loading:u,requestHint:y,hint:i}},components:{BaseButton:P}};c("9cdc");B.render=M;var D,V=B,I=c("8c4f"),H={id:"app"},T={key:0,class:"pane"},W={class:"inputReplacement"},$={key:1,"dominant-baseline":"middle","text-anchor":"middle"},K={class:"notation-text",style:{color:"white"}},Q={key:0,style:{color:"white"},class:"hint"},X={class:"actions"},Y=Object(a["i"])("Start New Game"),Z={key:0,class:"popup",ref:"popup"},ee=Object(a["j"])("h3",{class:"title"},"Are you sure you want to start a new game?",-1),te={class:"actions"},ce=Object(a["i"])("Start new game"),ne=Object(a["i"])("Take me back"),ae=Object(a["i"])("Hint"),oe=Object(a["i"])("Fill In Candidates"),re={key:1,class:"pane"},ue={class:"actions"},se=Object(a["i"])("Start New Game");function le(e,t){var c=Object(a["y"])("BaseButton");return Object(a["u"])(),Object(a["e"])("div",H,[e.loading?Object(a["f"])("",!0):(Object(a["u"])(),Object(a["e"])("div",T,[Object(a["j"])("table",null,[Object(a["j"])("tbody",null,[(Object(a["u"])(),Object(a["e"])(a["b"],null,Object(a["w"])(9,(function(t){return Object(a["j"])("tr",{key:t},[(Object(a["u"])(),Object(a["e"])(a["b"],null,Object(a["w"])(9,(function(c){return Object(a["j"])("td",{key:"r".concat(t,"c").concat(c,"-td"),id:"r".concat(t,"c").concat(c,"-td-id"),class:[{"border-right":c%3==0,"border-bottom":t%3==0,"border-left":0==c,"border-top":0==t,invalid:!e.sudokuObj["r".concat(t,"c").concat(c)].valid,"highlight-number":e.highlightNumbers==e.sudokuObj["r".concat(t,"c").concat(c)].number}],onClick:function(n){return e.handleClick({row:t,col:c})},style:{"background-color":e.selfFocus.row!=t&&e.selfFocus.col!=c||e.checkFocus["r".concat(t,"c").concat(c)]?e.checkFocus["r".concat(t,"c").concat(c)]:"".concat(e.color.slice(0,7),"44")}},[(Object(a["u"])(),Object(a["e"])("svg",W,[Object(a["j"])("text",{class:[{bold:e.sudokuObj["r".concat(t,"c").concat(c)].given,invalid:!e.sudokuObj["r".concat(t,"c").concat(c)].valid},"svgText"],x:"50%",y:"60%","dominant-baseline":"middle","text-anchor":"middle",ref:function(n){e.inputs["r".concat(t,"c").concat(c)]=n}},Object(o["G"])("."==e.sudokuObj["r".concat(t,"c").concat(c)].number?"":e.sudokuObj["r".concat(t,"c").concat(c)].number),3),(Object(a["u"])(!0),Object(a["e"])(a["b"],null,Object(a["w"])(e.sudokuObj["r".concat(t,"c").concat(c)].pencilMarks,(function(n,r){return Object(a["u"])(),Object(a["e"])("g",{key:r},[e.sudokuObj["r".concat(t,"c").concat(c)].pencilMarks[r]&&"."==e.sudokuObj["r".concat(t,"c").concat(c)].number?(Object(a["u"])(),Object(a["e"])("circle",{key:0,class:[{"circle-number":e.highlightNumbers==r+1}],cy:9+22*Math.floor(r/3),cx:8.5+r%3*22,r:"8"},null,10,["cy","cx"])):Object(a["f"])("",!0),"."==e.sudokuObj["r".concat(t,"c").concat(c)].number?(Object(a["u"])(),Object(a["e"])("text",$,[e.sudokuObj["r".concat(t,"c").concat(c)].pencilMarks[r]?(Object(a["u"])(),Object(a["e"])("tspan",{key:0,style:{"font-size":"14px"},y:10+22*Math.floor(r/3),x:8+r%3*22},Object(o["G"])(r+1),9,["y","x"])):Object(a["f"])("",!0)])):Object(a["f"])("",!0)])})),128))]))],14,["id","onClick"])})),64))])})),64))])]),Object(a["j"])("span",K,Object(o["G"])(e.notating?"Notation Mode On":"Notation Mode Off"),1),e.hint?(Object(a["u"])(),Object(a["e"])("div",Q,Object(o["G"])(e.hint),1)):Object(a["f"])("",!0),Object(a["j"])("div",X,[Object(a["j"])(c,{onClick:t[1]||(t[1]=function(t){return e.newGame()}),class:"button"},{default:Object(a["E"])((function(){return[Y]})),_:1}),e.checkNew?(Object(a["u"])(),Object(a["e"])("div",Z,[ee,Object(a["j"])("div",te,[Object(a["j"])(c,{onMouseup:t[2]||(t[2]=function(t){return e.newGame(!0)}),class:"yes"},{default:Object(a["E"])((function(){return[ce]})),_:1}),Object(a["j"])(c,{onClick:t[3]||(t[3]=function(t){return e.checkNew=!1}),class:"no"},{default:Object(a["E"])((function(){return[ne]})),_:1})])],512)):Object(a["f"])("",!0),Object(a["j"])(c,{onMouseup:t[4]||(t[4]=function(t){return e.requestHint()})},{default:Object(a["E"])((function(){return[ae]})),_:1}),Object(a["j"])(c,{onMouseup:t[5]||(t[5]=function(t){return e.firstPassCandidateCalculator()}),class:"button"},{default:Object(a["E"])((function(){return[oe]})),_:1})])])),e.loading?(Object(a["u"])(),Object(a["e"])("div",re,[Object(a["j"])("div",ue,[Object(a["j"])(c,{onClick:t[6]||(t[6]=function(t){return e.newGame()}),class:"button"},{default:Object(a["E"])((function(){return[se]})),_:1})])])):Object(a["f"])("",!0)])}console.log("success"),console.log(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_WS_URL);var ie=null!==(D=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_WS_URL)&&void 0!==D?D:"ws://tealog.xyz:8010";console.log(ie);var de=new WebSocket(ie),be={setup:function(){Object(a["q"])((function(){de.close(1e3,"logging off")})),de.onopen=function(){console.log("connection established")};var e=Object(C["i"])(),t=Object(C["i"])(),c=Object(C["i"])(),n=Object(C["i"])(),o=Object(C["i"])(!1),r=Object(C["i"])(!1),u=Object(C["i"])(!0),s=new G(t,n,de),l=new R(t,c,de,s),i=Object(C["i"])(!1);de.onmessage=function(a){var o=a.data,r=JSON.parse(o),s=r.color,d=r.sudokuObj,b=r.id,v=r.users,f=r.focusUpdate,O=r.numberUpdate,j=r.pencilMarkUpdate,p=r.undo,k=r.hint;k&&(console.log(k),i.value=k);var m=d||{},h=m.puzzle;if(d&&(t.value=h,u.value=!1),v&&(c.value=v),s&&(e.value=s,document.documentElement.style.setProperty("--color","".concat(s))),b&&(n.value=b),f)try{var g=f.id,w=f.focus;c.value[g].focus=w}catch(y){console.log(JSON.parse(o)),console.log(y),console.log(Object(C["n"])(c.value)),console.log(Object(C["n"])(n.value))}O&&l.updateNumber({numberUpdate:O},!1,!0),j&&l.updatePencilMarks({pencilMarkUpdate:j},!1,!0),p&&l.undo(p)};var d=Object(a["d"])((function(){var e={};for(var t in c.value)if(Object.prototype.hasOwnProperty.call(c.value,t)){var n=c.value[t];e["r".concat(n.focus.row,"c").concat(n.focus.col)]=n.color}return e})),b=Object(a["d"])((function(){var e=c.value[n.value],a=null;return null!=e.focus.row&&"."!=t.value["r".concat(e.focus.row,"c").concat(e.focus.col)].number&&(a=t.value["r".concat(e.focus.row,"c").concat(e.focus.col)].number),a})),v=Object(a["d"])((function(){return c.value[n.value].focus})),f=Object(C["i"])({});Object(a["r"])((function(){f.value={}}));var O=function(e,t,a,o){e+=a,t+=o,e>9||t>9||e<1||t<1||(f.value["r".concat(e,"c").concat(t)].focus(),c.value[n.value].focus={row:e,col:t},de.send(JSON.stringify({focusUpdate:{id:n.value,focus:{row:e,col:t}}})))},j=function(e){var a=e.key,r=e.event,u=["1","2","3","4","5","6","7","8","9"],s=["ArrowDown","ArrowRight","ArrowLeft","ArrowUp"],i=c.value[n.value].focus,d=i.row,b=i.col;if(null==d||null==b)return d=5,b=5,c.value[n.value].focus={row:d,col:b},void de.send(JSON.stringify({focusUpdate:{id:n.value,focus:{row:d,col:b}}}));if(!t.value["r".concat(d,"c").concat(b)].given&&u.includes(a))if(r.preventDefault(),o.value){var v=t.value["r".concat(d,"c").concat(b)].address,f={address:v,pencilMark:a,id:n.value};l.updatePencilMarks({pencilMarkUpdate:f})}else{var j=t.value["r".concat(d,"c").concat(b)].address,p={address:j,number:a,id:n.value};l.updateNumber({numberUpdate:p}),l.updatePeerCandidates(t.value["r".concat(d,"c").concat(b)])}else if("Backspace"==a)if(r.preventDefault(),o.value){var k=t.value["r".concat(d,"c").concat(b)].address,m={address:k,pencilMark:"delete",id:n.value};l.updatePencilMarks({pencilMarkUpdate:m})}else{var h=t.value["r".concat(d,"c").concat(b)].address,g={address:h,number:".",id:n.value};l.updateNumber({numberUpdate:g})}else if(s.includes(a))switch(r.preventDefault(),a){case"ArrowRight":O(d,b,0,1);break;case"ArrowLeft":O(d,b,0,-1);break;case"ArrowDown":O(d,b,1,0);break;case"ArrowUp":O(d,b,-1,0);break}else"Shift"==a?o.value=!o.value:"z"==a.toLowerCase()&&r.metaKey&&(l.undo(n.value),de.send(JSON.stringify({undo:n.value})))};document.body.addEventListener("keydown",(function(){j({key:event.key,event:event})}));var p=function(e){var t=e.row,a=e.col;c.value[n.value].focus={row:t,col:a},de.send(JSON.stringify({focusUpdate:{id:n.value,focus:{row:t,col:a}}}))},k=Object(C["i"])(null),m=Object(C["i"])(!1),h=function e(t){m.value&&t.target!=k.value&&t.target.parentElement!=k.value&&t.target.parentElement.parentElement!=k.value&&(m.value=!1,document.body.removeEventListener("mousedown",e))},g=function(e){console.log("triggered"),e?(de.send(JSON.stringify({newGame:!0})),m.value=!1,document.body.removeEventListener("mousedown",h)):(document.body.addEventListener("mousedown",h),m.value=!0)},w=s.firstPassCandidateCalculator,y=function(){de.send(JSON.stringify({hint:!0}))};return{popup:k,checkNew:m,selfFocus:v,sudokuObj:t,newGame:g,handleInput:j,handleClick:p,inputs:f,color:e,id:n,checkFocus:d,users:c,notating:o,highlightNumbers:b,firstPassCandidateCalculator:w,candidates:r,loading:u,requestHint:y,hint:i}},components:{BaseButton:P},name:"PuzzleView"};c("7647");be.render=le;var ve=be,fe=[{path:"/",name:"Puzzle",component:ve}],Oe=Object(I["a"])({history:Object(I["b"])("/"),routes:fe}),je=Oe;Object(n["a"])(V).use(je).mount("#app")},d7d8:function(e,t,c){}});
//# sourceMappingURL=app.8e929fb0.js.map